if (!project.hasProperty('loader')) {
    switch (project.name.toLowerCase()) {
        case "fabric":
            ext.loader = "Fabric"
            break
        case "forge":
            ext.loader = "Forge"
            break
        case "neoforge":
            ext.loader = "NeoForge"
            break
    }
}

if (!project.hasProperty('release_type'))
    ext.release_type = 'release'
if (!project.hasProperty('debug_mode'))
    ext.debug_mode = false

var name = name_template
        .replaceAll("_uppercase_loader", loader.toUpperCase())
        .replaceAll("_lowercase_loader", loader.toLowerCase())
        .replaceAll("_capitalized_loader", loader)
        .replaceAll("_version", version)

if (project.hasProperty("minecraft_version")) {
    name = name.replaceAll("_minecraft_ver", project.property("minecraft_version"))
}
ext.full_name = name

var taskName = "jar"
if (ext.loader == "Fabric") {
    taskName = "remapJar"
} else if (ext.loader == "Forge") {
    if (tasks.jarJar.enabled) {
        taskName = "jarJar"
    }
}
ext.task_name = taskName